<aside class="bd-sidebar sub-sidebar">
    <nav class="bd-links p-3 pt-4" aria-label="Sub-section navigation">
        <filter-list request="request" callback="getList()"></filter-list>
    </nav>
</aside>

<!-- ----------------------------------------------------------- -->

<div class="content-body py-3 px-5">
    <h3>Module's Data</h3>
    <p class="text-subtitle text-muted">
        Use the filter side bar on the right to filter and search your module's
        data.
    </p>

    <section ng-init="init()">
        <div class="row">
            <div class="d-flex justify-content-end mb-3" role="toolbar" aria-label="Toolbar with button groups">
                <a href="/portal/module-data/details/{{moduleId}}" class="btn btn-primary px-3 me-2 text-white">
                    <i class="fas fa-plus"></i> Add Data
                </a>
                <a ng-click="export()" class="btn btn-primary px-3 me-2 text-white">
                    <i class="fas fa-arrow-down"></i> Download Data
                </a>
                <a ng-if="isAdmin" href="/portal/module/details/{{moduleId}}" class="btn btn-primary px-3 text-white">
                    <i class="fas fa-pen"></i> Edit Module
                </a>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                <mix-module-data-table ng-show="module" ng-init="getList()" data="data"
                    can-drag="request.orderBy === 'Priority' && request.direction === 'Asc'" edit-url="editDataUrl"
                    module-id="moduleId" columns="dataColumns" on-delete="remove(id)">
                </mix-module-data-table>
            </div>
        </div>
        <div class="mt-5">
            <paging class="small" page="viewmodel.data.page" page-size="viewmodel.data.pageSize"
                total="viewmodel.data.totalItems" ul-class="pagination justify-content-end m-0" a-class="page-link"
                paging-action="loadMoreModuleDatas(page-1)" scroll-top="true"></paging>
        </div>
    </section>
</div>
