<div class="content-body py-3 px-5" ng-init="init()">
    <h3>Template list</h3>
    <p class="text-subtitle text-muted">
        You are now editing <strong>{{viewmodel.fileName}}</strong> template file.
        Please be carefull!
    </p>

    <!-- Main content -->
    <section class="" ng-init="getSingle()">
        <form ng-class="{'submitted': submitted}" ng-submit="save()" ng-if="viewmodel">
            <div class="row mb-3">
                <div class="col-md-4">
                    <div class="input-group">
                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-folder"></i></span>
                        <select class="form-select" ng-model="viewmodel.folderType">
                            <option ng-repeat="item in folderTypes track by $index" ng-value="item">
                                {{item}}
                            </option>
                        </select>
                        <input type="text" class="form-control" ng-disabled="!canRename"
                            ng-model="viewmodel.fileName" />
                    </div>
                </div>
                <div class="col"></div>
                <div class="col-md-3">
                    <actions back-url="referrerUrl"></actions>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-3" style="text-align: right;">
                    <preview-image ng-repeat="member in members" class="mx-1 d-inline-block"
                        img-class="'rounded-circle'" img-height="30" img-width="30" img-src="member.Avatar">
                    </preview-image>
                </div>
                <div class="col-md-12 mb-3">
                    <p ng-repeat="err in errors" class="text-danger" ng-bind="err"></p>
                </div>
                <div class="col-md-12">
                    <tabs-v select-callback="selectPane(pane)">
                        <pane-v header="Razor Template">
                            <monaco-editor is-visible="activedPane.displayName == 'Razor Template'"
                                is-readonly="!isValid" content="viewmodel.content"
                                update-content="updateTemplateContent(content)">
                            </monaco-editor>
                        </pane-v>
                        <pane-v header="Scripts">
                            <monaco-editor is-visible="activedPane.displayName == 'Scripts'" is-readonly="!isValid"
                                update-content="updateStyleContent(content)" content="viewmodel.scripts"
                                default-content="'<script>\n\n</script>'"></monaco-editor>
                        </pane-v>
                        <pane-v header="Styles">
                            <monaco-editor is-visible="activedPane.displayName == 'Styles'" is-readonly="!isValid"
                                update-content="updateScriptContent(content)" content="viewmodel.styles"
                                default-content="'<style>\n\n</style>'">
                            </monaco-editor>
                        </pane-v>
                    </tabs-v>
                </div>
            </div>
        </form>
    </section>
    <!-- /.content -->
</div>