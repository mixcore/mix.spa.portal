<div class="page-wrapper d-flex flex-column pt-4 w-100">
  <div class="container-xl">
    <div class="page-header d-print-none">
      <div class="row align-items-center">
        <div class="col">
          <div class="page-pretitle">Creating</div>
          <h3 class="page-title">New Coupon Rule</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="page-body d-flex flex-row-reverse">
    <aside class="bd-sidebar sub-sidebar">
      <nav class="bd-links p-3" aria-label="Sub-section navigation">
        <div class="card">
          <actions
            preview-url="viewmodel.fullPath"
            back-url="'/portal/floralpunk/coupon/list'"
          >
          </actions>
        </div>
      </nav>
    </aside>

    <!-- ----------------------------------------------------------- -->

    <div class="content-body py-3 pe-3">
      <!-- Main content -->
      <div class="card">
        <div class="card-body">
          <section class="" ng-init="getSingle()">
            <form
              ng-if="viewmodel"
              ng-class="{'submitted': submitted}"
              ng-submit="save()"
            >
              <div class="row">
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Member Tier</label>
                    <select class="form-select" ng-model="viewmodel.tier">
                      <option ng-repeat="item in tiers" ng-value="item">
                        {{item}}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Limit</label>
                    <input
                      type="number"
                      class="form-control"
                      ng-model="viewmodel.limit"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Schedule</label>
                    <td>
                      <input type="checkbox" ng-model="viewmodel.isSchedule" />
                    </td>
                  </div>
                </div>
              </div>
              <div class="row" ng-if="viewmodel.isSchedule">
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Cron Expression</label>
                    <input
                      type="text"
                      class="form-control"
                      ng-model="viewmodel.cronExpression"
                    />
                  </div>
                </div>
              </div>
              <div
                class="row"
                ng-if="viewmodel.isSchedule && !viewmodel.cronExpression"
              >
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Interval</label>
                    <input
                      type="number"
                      class="form-control"
                      ng-model="viewmodel.interval"
                    />
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Interval Type</label>
                    <select
                      class="form-select"
                      ng-model="viewmodel.intervalType"
                    >
                      <option ng-repeat="item in intervalTypes" ng-value="item">
                        {{item}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row" ng-if="viewmodel.isSchedule">
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Start At</label>
                    <input
                      type="datetime-local"
                      class="form-control"
                      ng-model="viewmodel.startAt"
                    />
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">End At</label>
                    <input
                      type="datetime-local"
                      class="form-control"
                      ng-model="viewmodel.endAt"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Send Email</label>
                    <td>
                      <input type="checkbox" ng-model="viewmodel.isSendEmail" />
                    </td>
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="form-label">Send Notification</label>
                    <input
                      type="checkbox"
                      ng-model="viewmodel.isSendNotification"
                    />
                  </div>
                </div>
              </div>
            </form>
          </section>
        </div>
      </div>
      <!-- /.content -->
    </div>
  </div>
</div>
