<div class="page-wrapper d-flex flex-column pt-4 w-100">
  <div class="container-xl">
    <div class="page-header d-print-none">
      <div class="row align-items-center">
        <div class="col">
          <div class="page-pretitle">Creating</div>
          <h3 class="page-title">New Coupon</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="page-body d-flex flex-row-reverse">
    <aside class="bd-sidebar sub-sidebar">
      <nav class="bd-links p-3" aria-label="Sub-section navigation">
        <div class="card">
          <actions
            preview-url="viewmodel.fullPath"
            back-url="'/portal/floralpunk/membership/list'"
          >
          </actions>
        </div>
      </nav>
    </aside>

    <!-- ----------------------------------------------------------- -->

    <div class="content-body py-3 pe-3">
      <!-- Main content -->
      <div class="card">
        <div class="card-body">
          <section class="" ng-init="getSingle()">
            <form
              ng-if="viewmodel"
              ng-class="{'submitted': submitted}"
              ng-submit="save()"
            >
              <div class="mb-3">
                <label class="form-label">User Name</label>
                <input
                  type="text"
                  required
                  class="form-control form-control-lg"
                  ng-model="viewmodel.userName"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Phone Number</label>
                <input
                  type="text"
                  required
                  class="form-control form-control-lg"
                  ng-model="viewmodel.phoneNumber"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Birth Date</label>
                <input
                  type="date"
                  required
                  class="form-control form-control-lg"
                  ng-model="viewmodel.birthDate"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Joined Date</label>
                <input
                  type="date"
                  required
                  class="form-control form-control-lg"
                  ng-model="viewmodel.joinedDate"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Life points</label>
                <input
                  type="number"
                  required
                  class="form-control form-control-lg"
                  ng-model="viewmodel.lifePoints"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Member Level</label>
                <select class="form-select" ng-model="viewmodel.level">
                  <option ng-repeat="item in levels" ng-value="item">
                    {{item}}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Member Tier</label>
                <select class="form-select" ng-model="viewmodel.tier">
                  <option ng-repeat="item in tiers" ng-value="item">
                    {{item}}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <div class="row" ng-if="viewmodel.id">
                  <a
                    href="/portal/floralpunk/membership-rule/create?membershipId={{viewmodel.id}}"
                    class="btn btn-link"
                  >
                    Create
                  </a>
                  <table
                    class="table table-sm table-hover mb-0"
                    cellspacing="0"
                  >
                    <thead class="thead-light">
                      <tr>
                        <th scope="col" class="col">Title</th>
                        <th scope="col" class="col">Description</th>
                        <th scope="col" class="col">Image</th>
                        <th scope="col" class="col"></th>
                      </tr>
                    </thead>

                    <tbody class="sortable" ng-init="initList()">
                      <tr
                        ng-repeat="item in viewmodel.coupons track by $index"
                        class="sortable-item"
                        sort-model="floralpunk/coupon"
                        sort-model-id="{{item.id}}"
                      >
                        <td>
                          <span ng-bind="item.coupon.title"></span>
                        </td>
                        <td>
                          <span ng-bind="item.coupon.description"></span>
                        </td>
                        <td>
                          <preview-image
                            img-height="25"
                            img-src="item.coupon.image"
                          ></preview-image>
                        </td>
                        <td>
                          <div
                            class="btn-group btn-group-sm btn-group-sm float-end"
                            role="group"
                            aria-label="Actions"
                          >
                            <a
                              href="#"
                              ng-click="removeUserCoupon(item.id);"
                              class="btn btn-link text-danger"
                            >
                              <span class="fas fa-trash-alt"></span>
                            </a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </form>
          </section>
        </div>
      </div>
      <!-- /.content -->
    </div>
  </div>
</div>
