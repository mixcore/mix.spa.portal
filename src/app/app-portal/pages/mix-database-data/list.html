<aside class="bd-sidebar sub-sidebar" ng-init="init()">
    <nav class="bd-links p-3 pt-4" aria-label="Sub-section navigation">

        <div class="card card-body">
            <div class="btn-group mb-3 w-100" role="group" aria-label="Basic example">
                <a href="/portal/mix-database-data/create?mixDatabaseId={{mixDatabaseId}}&mixDatabaseName={{mixDatabaseName}}&mixDatabaseTitle={{mixDatabaseTitle}}&dataId=default"
                    class="btn btn-primary text-white">
                    <i class="fas fa-plus"></i> Data
                </a>
                <a ng-if="isAdmin" href="/portal/mix-database/list" class="btn btn-primary text-white">
                    <i class="fas fa-list"></i> List
                </a>
                <a ng-if="isAdmin" ng-click="migrate()" class="btn btn-primary text-white">
                    <i class="fas fa-list"></i> Migrate
                </a>
                <a ng-if="isAdmin" href="/portal/mix-database/details/{{mixDatabaseId}}"
                    class="btn btn-primary text-white">
                    <i class="fas fa-tools"></i> Config
                </a>
            </div>

            <div class="accordion accordion-flush-x" id="accordionFlushExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                            Filter by
                        </button>
                    </h2>
                    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            <filter-list class="bd-aside-right text-muted align-self-start mb-3 mb-xl-5 px-2"
                                key="requestKey" request="request" callback="getList(pageIndex)"></filter-list>
                            <div ng-if="columns" ng-repeat="column in columns" class="mb-3">
                                <label class="form-label">{{column.title}}</label>
                                <input ng-model="queries[column.name]" ng-enter="getList()" class="form-control">
                                <!-- <mix-column-editor model="queries" column="column"></mix-column-editor> -->
                            </div>

                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                            Export data
                        </button>
                    </h2>
                    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                            <a ng-click="export(request.pageIndex, exportAll)"
                                class="btn btn-sm btn-primary text-white float-end px-4 me-2">
                                <i class="fas fa-download"></i> Export data
                            </a>

                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" ng-model="exportAll" id="export-all">
                                <label class="form-check-label" for="export-all">Export all</label>
                            </div>
                            <!--
                        <input type="checkbox" ng-model="exportAll" id="export-all">
                        <label for="export-all">Export All</label> -->
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseThree" aria-expanded="false"
                            aria-controls="flush-collapseThree">
                            Import data
                        </button>
                    </h2>
                    <div id="flush-collapseThree" class="accordion-collapse collapse"
                        aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            <div class="input-group">
                                <input id="inp-import-data" type="file" name="import-data-inp"
                                    accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                                    ngf-select="selectImportFile($files)" data-files="file.files" class="form-control"
                                    aria-label="Upload">
                                <a ng-class="{'btn-secondary': !importFile.file}" ng-click="import()"
                                    class="btn btn-outline-secondary text-white">
                                    <i class="fas fa-upload"></i> Import</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</aside>
<!-- ----------------------------------------------------------- -->
<div class="content-body py-3 px-5">
    <div class="row">
        <div class="col-12" ng-init="getList()">
            <h3>{{mixDatabaseTitle}}'s data </h3>
            <p class="text-subtitle text-muted">This list is show all of the total <span ng-bind="data.totalItems"
                    class="text-muted"></span> items existing in
                <strong>{{mixDatabaseTitle}}</strong> database.
            </p>

            <div class="mb-5">
                <div class="row">
                    <div class="col-sm-12">
                        <em> Total items: <span ng-bind="data.totalItems" class="text-muted"></span></em>
                    </div>
                </div>
                <mix-database-data-values ng-if="columns" on-duplicate="duplicate(data)" on-update="edit(data)"
                    on-delete="remove(data)" columns="columns"
                    can-drag="request.orderBy === 'Priority' && request.direction === 'Asc'"
                    on-send-mail="sendMail(data)" filter-type="filterType" on-filter-list="getList(0)"
                    on-apply-list="applyList()" selected-list="selectedList" header="''" data="data.items"
                    mix-database-name="mixDatabaseName" queries="queries">
                </mix-database-data-values>
            </div>


            <paging class="small" page="data.page" page-size="data.pageSize" total="data.totalItems"
                ul-class="pagination justify-content-end m-0" a-class="page-link" paging-action="getList(page-1)"
                scroll-top="true">
            </paging>


        </div>
    </div>
</div>
